---
title: Linux常用命令使用
comment: true
date: 2020-10-20 18:37:43
tags:
categories:
addrlink:
---

# 进程

## 查看进程

### lsof

```bash
$ lsof           ##查看所有进程  
$ lsof -i:8080   ##查看端口号为8080的进程
$ lsof -u root   ##查看用户为root的进程
$ lsof -c java   ##查看名称为java的进程
$ lsof -p 123    ##查看PID为123的进程
```

效果图：

<div style="margin:0 auto">

![img1](./Linux常用命令使用/1.png)

</div>

| COMMAND  | PID        | USER       | FD         | TYPE     | DEVICE         | SIZE/OFF | NODE                           | NAME           |
| -------- | ---------- | ---------- | ---------- | -------- | -------------- | -------- | ------------------------------ | -------------- |
| 进程名称 | 进程标识符 | 进程所有者 | 文件描述符 | 文件类型 | 文件所在的磁盘 | 文件大小 | 索引节点（文件在磁盘上的标识） | 确切的进程名称 |


当我输入`lsof -c java`时，发现有多个PID一样的进程名，我的理解是同一个PID的进程用到了多个相关的文件，在NAME中可以看得出来


## 关闭进程

### kill

kill命令通常是通过发送指定的信号到相应进程来实现的

常用信号：

- 1 终端断线
- 2 中断（等同 Ctrl + C）
- 3 退出（同 Ctrl + \）
- 15 终止（可以使得进程在退出之前清理并释放资源）
- 9 强制终止
- 19 暂停（等同 Ctrl + Z）
- 18 继续（与19相反）

```bash
$ kill -9 26889     ##强制终止PID为26889的进程
$ kill -15 26889    ##终止PID为26889的进程
```

# 文本

## 文本编辑

## 文本查看

### less

```bash
less nohup.out   ## 查看nohup.out文本
```

**less功能键**

| 功能键   | 作用           |
| -------- | -------------- |
| j        | 下一行         |
| k        | 上一行         |
| 空格     | 下一页         |
| b        | 上一页         |
| G        | 到最后一行     |
| g        | 到第一行       |
| /字符串  | 向下搜索       |
| ？字符串 | 向上搜索       |
| =        | 显示当前行信息 |





# 文件

## 罗列文件

### ls

```bash
ls   ##列出当前目录下的全部文件（不包含隐藏文件）
ls /home    ##列出“当前目录/home”目录下的全部文件（不包含隐藏文件）
ls -a     ##列出目录下的所有文件（包含隐藏文件）  a：all的缩写

```

```bash
ls -l  ##显示出文件的属性与权限等数据信息
```

![img2](D:\blog\source\_drafts\Linux常用命令使用\2.png)

从左到右

- 字段一：文件属性
- 字段二：文件的硬链接数，
- 字段三：文件（目录）的所拥有者
- 字段四：文件（目录）拥有者所在组
- 字段五：文件所占用空间（字节为单位）
- 字段六七八：文件（目录）最近访问（修改）时间
- 字段九：文件名

```bash
ls -t ##将文件依建立、修改的时间之先后次序列出
```

![img3](D:\blog\source\_drafts\Linux常用命令使用\3.png)

```bash
ls -lt  ##将-l跟-t的效果合并起来，常用
```

![img4](D:\blog\source\_drafts\Linux常用命令使用\4.png)



# 权限

Linux下文件的权限一般有读（r）、写（w）、执行（x）

同时，文件权限身份也有三种：文件所有者（user）、文件所有者所在组（group）、其他组（others）



![img4](D:\blog\source\_drafts\Linux常用命令使用\4.png)

以这个图为例，说一下第一列的含义

第一列总共有10个字符

|        字符1        |                      字符2~4                       |                         字符5~7                          |                    字符8~10                    |
| :-----------------: | :------------------------------------------------: | :------------------------------------------------------: | :--------------------------------------------: |
| d：目录<br/>-：文件 | 依次表示文件所有者对该文件的可读、可写、可执行权限 | 依次表示文件所有者所在组对该文件的可读、可写、可执行权限 | 依次表示其他组对该文件的可读、可写、可执行权限 |

## 修改权限

1. **chmod abc filename**

   指令中的a、b、c分别表示一个数字，其中

   - a ：文件所有者的权限
   - b ： 文件所有者所在组的权限
   - c ： 其他组的权限

   a、b、c都是0~7的数字，对应由r、w、x三个二进制位**按序**组成的二进制数，比如：只读则100，也就是4，读写则110，也就是6，读写加执行则111，也就是7

   实践：

   ![img5](D:\blog\source\_drafts\Linux常用命令使用\5.png)



# 用户管理

## 查询用户信息

1. **id 用户名**

![img6](D:\blog\source\_drafts\Linux常用命令使用\6.png)

uid：用户id；gid：所在组id；groups：组名

由上图可知：

- wakie用户id为1000，
- 所在组为root，其中root组的id为0

## 修改用户的组

1. **usermod -g 用户组 用户名**

例子：

```shell
$ usermod -g root wakie    #将用户wakie迁移到root的组	
```