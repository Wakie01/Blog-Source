---
title: 上下文感知计算分析
comment: true
date: 2021-04-11 15:34:14
tags:
categories:
addrlink: 
---

要弄清楚上下文感知计算分析，就要弄清楚：

1. 上下文是什么？上下文的建模方法
2. 上下文的推理和融合方法
3. 支持上下文感知技术的软件结构



# 上下文

上下文（Context），在不同的领域可能有不同的定义

在普适计算中

**上下文信息：** 指位置、动作、历史记录等信息，它反映了与对象相关的一些属性信息。当然，这些上下文信息往往需要采集或者测量的，而这就涉及到传感器技术了。个人理解就是周围的环境信息，everything is context

> Dey对上下文的定义：上下文是任何能够用于描述一个实体的环境特征的信息，这个实体可以是个人、地点、或者用户和应用之间交互相关的对象，包括用户和应用自己。

**上下文感知：** 指系统自动的对上下文信息、上下文信息的变化以及上下文信息的历史进行感知和应用，并以此来调整自身的行为





# 建模方法

对上下文建模应当考虑上下文本身的一些特点，它们决定了上下文模型的设计需求，上下文主要有四个特点：

1. 时效性
2. 不完整性
3. 上下文信息有多种表达形式
4. 上下文之间是高度关联的

所以，上下文的模型应具备下列要求：

1. 结构化的，结构化的模型有利于上下文信息的查找
2. 可互换的，不同组件之间需要经常传递、共享上下文，当部分上下文发生变化时，只需要把这个变化的部分传递过去即可
3. 可组合和拆解的，从而支持上下文的分布式储存和管理
4. 统一的，在整个系统中上下文的模型应该一致
5. 可扩展的
6. 标准化的，不同系统之间共享上下文需要标准的上下文模型
7. 可推理的，可根据现有的上下文推理出其他上下文信息

于是，就有了很多上下文建模方法，比如：

1. 键-值对模型

   该模型是最简单的表示上下文的方法，支持文本文件、二进制文件等多种不同格式的表示，是一种面向特定应用的建模技术。键-值对建模过程简单、实现灵活，数据规模较小时便于管理。但这类模型不支持数据间关系的表达不适于存储复杂的数据结构，不具有扩展性，没有可用的标准处理工具，数据检索难度较大。

2. 标记模型

   使用具有内容和属性标记建立层次化的数据结构，方便数据的获取与查询，能较好地解决模式验证问题。但信息层级较多时模型变动更为复杂。对于一些主流的标记技术( 如XML 技术)，很多验证工具已经成熟可用。标记模型主要用于临时的数据存储、应用程序之间或应用程序内部组件之间的数据交换等

3. 图模型

   除了对上下文本身建模外，还兼顾了上下文之间的关系，支持对关系的建模，具有更丰富的表达能力。如著名的通用建模工具UML包含了丰富的图元，适合对上下文建模。图模型的底层实现形式多样，可以是XML，也可以一个数据库，如SQL 数据库。因此，图模型能够处理海量数据，可以用于上下文持久性存储，信息检索也相对简单快捷。此外，基于图模型的建模技术不具备良好的可扩展性

4. 基于逻辑的模型

   将上下文定义为事实、表达式和规则，采用一阶谓词等逻辑表达实现上下文及其关系的形式化描述，其中规则用来表达策略、约束和偏好。基于逻辑的建模技术具备更丰富的表达能力。此外，高度形式化的逻辑理论使其具有天然的推理能力，支持推理得出新的高级别的上下文信息。另一方面，高度形式化的逻辑基础显著地增加了系统开发的复杂度，限制了系统的复用性和通用性。基于逻辑的建模技术适合对上下文情境或事件、决策动作等的建模。

5. 面向对象的模型

   这类方法主要利用了面向对象方法中的**封装**和**继承**特性，把对上下文的处理封装在对象中，通过特定接口实现对上下文的访问。

   面向对象的上下文建模是一种基于代码的、运行时上下文建模方法，可以解决上下文感知计算环境中由动态上下文引起的一些问题。

   常用的面向对象建模语言：统一建模语言（Unified Modeling Language，UML）

   这类建模方法的主要缺点是不能有效解决验证问题，不具备内置的推理能力。

6. 基于本体的模型

   本体一词起源于哲学，用于研究客观事物存在的本质。
   
   在计算机科学研究领域中，本体是一种知识表示方法，也是概念化的形式化。概念化指的是通过世界中的相关概念而建立的关于现象的抽象模型，而形式化指的是机器可以理解，可以进行处理。所以，本体具有概念化、形式化、可共享和可重用等特征。
   
   本体建模的核心是明确领域中的**概念**，**概念的属性**和**约束条件**和概念之间的**层次关系**等。
   
   常见的面向Web的建模语言有OWL
   
   本体建模的方法大体上有两种方式：自顶向下和自底向上。开放域知识图谱的本体构建通常用自底向上的方法，因为开放的世界太过复杂，用自顶向下的方法无法考虑周全；领域知识图谱多采用自顶向下的方法来构建本体，因为领域知识图谱涉及的概念和范围都是固定或者可控的，而且对于领域知识图谱，我们要求其满足较高的精度。
   
   

建模方法总结：

目前，上下文信息模型大多针对特定应用或特定领域而构建，无法在多应用、多领域和多系统之间实现知识重用、共享和互操作。而本体技术在共享性、重用性、互操作性以及语义描述和推理能力方面有着显著的优势，因此，笔者认为在构建上下文模型时，将基于本体的建模技术与其他建模技术相结合，优势互补，以支持不确定性数据的处理，实现上下文模型的通用性、一致性和扩展性。



# 推理和融合

何为上下文的推理？何为上下文的融合？

**上下文的推理：** 根据已有的上下文进行分析，得出新的上下文的过程

**上下文的融合：** 将多个类似的上下文融合为一个



推理和融合的重要性：

上下文推理和融合是普适计算提供智能化服务的基础。在普适计算环境下，存在大量不同来源的上下文数据，由于单一的上下文没有太多的有价值信息，通常不能被上下文感知应用直接使用，需要对相关联的多个上下文进行推理融合形成高层上下文。同时，相同实体上下文的来源一般不止一个，多个源数据之间由于设备性能、网络质量等差异可能存在着冲突和不一致，因此也需要上下文的推理融合消除不一致，并推断出最真实的结果。



常见的推理方法：

1. 基于一阶谓词逻辑的上下文表示和推理方法，上下文的基本单位是原子上下文，形式是：`Context（<ContextType>，<Subject>，<Relator>，<Object>）`，`ContextType`是上下文的类型，`Subject`和`Object`分别是上下文的主语和宾语，`Relator`是谓词，其实就是通过简单的主谓宾来推理。

   该方法具有一阶描述能力，但不能处理不确定性上下文的推理

   典型应用例子：伊利诺伊大学的ConChat

2. 基于贝叶斯网络的上下文推理方法。其核心思想是把上下文信息看成一个个随机变量，推理知识则是用贝叶斯网络表示的这些变量之间的条件概率关系，然后把传感器的输出作为证据，计算要查询的上下文信息对应的随机变量在已经证据的前提下的后验概率分布。这个后验概率分布就反映了推理后新知识的真实程度。

   其实就是通过贝叶斯网络计算随机变量的发生概率

3. 基于机器学习的上下文推理方法。将上下文推理看成是一个模式识别的问题，具体做法是把传感器的输出进行简单的特征抽取，然后把结果输入到一个自组织网络（比如神经网络，该网络有一些事先学习过的特征区域，每个特征区域对应一种上下文情况），如果输入映射到某个区域就认为当前上下文属于那一类



# 支持上下文感知的软件结构

上下文系统通常是一个异构、复杂的网络系统，上下文的获取、推理、传输、保存以及应用分布于整个系统的各个部分

根据其特点，支持上下文感知的软件结构应当具备下列特点：

- 简单：上下文的应用应当尽可能简单地得到和使用其需要的各种上下文
- 准确、实时：准确实时地把上下文信息传递给应用程序
- 分布式的：上下文的感知设备位于整个系统的各个部分，上下文的应用也分布于系统的各个地方
- 可扩展
- 可共享



总的来说，支持上下文感知技术的软件结构可分为**紧耦合方式**和**松耦合方式**

**紧耦合方式：**

- 阶段一：

  上下文的应用程序和提供上下文的传感器之间紧密耦合在一起，在这种情况下，上下文应用的开发者需要直接处理各种传感器的数据。这就需要开发人员熟悉底层各自传感器的传输协议。

  这显然不好，增加开发人员的负担，加重程序的负担，可扩展性极差，可修改性也极差

- 阶段二：

  采用抽象上下文的方式，这种方式通过软件来屏蔽上下文应用程序对上下文传感器的处理，应用程序只需要通过这些软件的接口就可获取上下文。

  解决了阶段一的一些问题，但仍存在问题，如：不能主动上报上下文的改变情况，只能通过业务查询来获取；还有，由于各个传感器对应的后台程序都是独立开发的，应用程序需要同时处理多个传感器后台程序



# 例子

以校园自助旅游系统为例子，该系统通过GPS、物理传感器节点以及Web服务获取旅游者所处的地理位置、周围环境状态等与自然环境有关的上下文以及反映旅游者本人特点的社会上下文，经过传感器网络数据传输，经过中心服务器融合、推理等演化处理，为用户提供主动的、个性化的服务。

该系统采用本体模型。该系统只提取与校园自助旅游相关的概念，大致有人（Person）、位置（Location）、活动（Activity）和基本概念（Basic Concept），然后在这基础上，又可分为更具体的概念：

人：老年人、中年人、青年人

位置：室内、室外

​		室内：会议室、教室

​		室外：场地、建筑

​				场地：运动场、公园

​				建筑：教学楼、科研建筑、宿舍楼、食堂

再进一步描述就有了下图：

![image-20210413165552840](D:\blog\source\_drafts\上下文感知计算分析\1.png)

而这，就是该系统的上下文

然后就可以对此上下文进行建模，这里使用OWL进行建模

![image-20210413170157771](D:\blog\source\_drafts\上下文感知计算分析\2.png)

至于该系统采用的推理方法，则是采用本体推理和规则推理

本体推理是结合领域本体，将底层上下文信息转换为高层上下文并存入知识库，由上下文解释模块调用

规则推理是通过自定义的规则推导新的上下文信息，这些规则往往用一阶谓词逻辑描述，采用三元组的形式





参考：

[上下文感知技术在智能环境系统中的应用及举例.pdf](https://doc.mbalib.com/view/43c397a4aac0e502631487a56d9fcab2.html)

[万能. 上下文感知计算若干关键问题研究[D].北京邮电大学,2010.](https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CDFD&dbname=CDFD1214&filename=1012320562.nh&v=W3lrV22V6nw15vR161Bru%25mmd2FPdQ3ij0Nqa0mjekTOB%25mmd2BdmbQ%25mmd2Bv%25mmd2FJnGeLBj2Kf2A%25mmd2B1LC)

[许楠.面向普适计算的上下文建模方法[J].电子技术与软件工程,2018(21):123.](https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CJFD&dbname=CJFDLAST2018&filename=DZRU201821098&v=B6wt9QCZBG5QCCUeDiytZ7N7tdrNSjSpm9WhVj5QtmHBdgfK%25mmd2F1JOLBhDGSzz5wrI)

[刘威. 面向普适计算的上下文建模和推理技术研究[D].南京邮电大学,2011.](https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CMFD&dbname=CMFD2012&filename=1011226132.nh&v=BDGDoWd04CUsvu2MJKgknC9fqSdeKkDLei59Woab823hsIOyC8XbIeCkNgkxUI0Y)